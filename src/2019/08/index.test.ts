import {
  dataToRows,
  imageDataToLayers,
  countDigitsInLayer,
  getLayerWithFewest0Digits,
  answerPart1,
  imageDataToImage,
  printImage,
} from '.';

const puzzleInput =
  '221202222022222022021222222222122202202222222122002202221222222222202022202222222222222222222222022222022202221222022222222202222212202222202202222222220212222222222222122222022222022212222222222122002212220222222222202122222222222222222222222222022222022222221222022222222222222202202222212222222222222222222022222122022222122222022212202222222222002222222222222222222222222222222222222222222222222222222202222222022222222202222222002222212212222222220202222222222022121222122222122222212222222122112202220222220222212222202222222222222222222222022222222202222222222222222202222202102222202222222222221202212222222022222222222222022212212212222022202201222222222222212222202222222222222222222222222222222212220222222222222202222222122222212202222222220202222122222222220222122222122222202212222222222202221222220222212122212222222222222222222202222222222222220222022222222222222222222222222222222222221202222122222022222222222222222222202212222122122210222222220222222122222222222222222222222222222222122222222222122222222202222222002222202202220222220202212222222122120222122222222202222202222022012221220222222222202022212222222222222222222222022222222222220222022222222212222222202221202212222222222202222122222122021222122222122222222222222222202200222222222222202022212222222222222222222202122222122212221222022222222212222202122222212222220222221212202222222222121222222222022212222202222022222220221222221222202122212222222222222222222202222222122222222222022222222222222202122222212202221222221202212122222022221222222222022202202222222022011220220222222222202022202222222222222222222222222222222222220222122222222212222212112222222202220222221212222122222022020222022222120222202212222122202221220222222222222022222222222222222222222202222222022202221222022222221202222222222221212222222222221212212022222122020222222222021212212222222222120201220222221222202122202222222202222222222222022222022202221222022222221222222212122222212202220222220222202122222122020222122222220202202212222022000210221222220202202122202222222202222222222222022222022212221222022222220202222202102222202222220222221202222122222222220222022222121202212202222222120212221222222212222122222222222212222222222202222222222222222222222222221212222212002221202222222222221212212022222022122222122222122222222222222222110222222222220212212122212222222200222222212222222222122222222222022222222212222212002222222222220222221212202122222122022222222222121212202222022122120201222222220212222221212222222201222222202202222222022222221222122222220202222212102220202212222222222202202222222122121222122222121212202222122222010200021222221222212121212222222221222222222222122222122212220222222222221212222202002222222222222222221222222222222122121222222222020222212202122022201220120222220222212220212222222210222222222212222222022202220222222222222202222212012222221222222222222212212022222212221222012222220212222212222222200212220222220222222022202222222202222222222202112222022212222222022222222202222222122221222212220222220212212222222112022222002222121202202222022022212200220222220202212222212222222212222222212212122222222202221222022222222222222212022221201212221222220212212122222202022222022222122222212222022022122202220222220222202220222222222211222222222212222222022112221222022222221222222212102220221222220222221222212122222002121222012222122212212212122122120200122222221221222222202222222012222222222222022222122002220222222222220212222202212221212222020222220202222002222022221222102222022222222222122202111201022222222210212222212222222012222222222222100222222122220222122222221212222222002221200202221222222202202002222012020222012222120202222202222112021200220222220201222021222222222222222222212222021222122012222222122022220202222202012220212212121222222212202102202002021222212222222202222202022202210222020222201222202220222222222200222222212202120222122102221222022222220212222222002221222212220222220202222222212222121222212222021222212212022102121201021222202220212122202222222000222222212212010222122102221222022022220212222222102220220222021222220202202212222222222222222222122212202212222212200200121222200220222221222222222001222222222122100222222122220222122222220212222212102220210202222222222212222102202212221222212222222212212212022022202210021222222201212021212222222102222222212122221222022002222222022122220222222202002220212212221222221202221102212212222222222222022202222212222102102221022222200211222021222222222110222222212122220222122202221222022022221212222202212221201212020222221222210002212011122022112222120212222212022202210210022222200212222221202222222200222222222002112222222202220222022222221202222202002220212202020222222221210022212122120022112222121222222202122112200201121222201211212122222222222212222222222012212222122022222222222022220222222222022222210222122222221222222202212122021022022222021222202202222002210211221222210222212221212222222121222222202122010222022222222222022022220202222222002222222222211222220212210112222010222022112220021212202212122122011202122222220211222220202222222022222222222002112222222212220222022122220202222222112222222222102222220210220002222012120022212222122202202222122212110211020222221202212020222222222002222222222102112222122202220222122022221222222212002222220222100222221200222022202211021222222222122202202222122102020222020222202222222220212222222012222222222202202222122222220222222022222222222222222220201202010222222201221012222220121022202221121222222202022222020210121222200211212220202222222222222222222012002222122212221222222022221212222222222221200202102222221221221222210110222122012222222202222202022102200222222222210220212121212222222121222222202012112222122122222222122022221202222212202222201202002222222211210112222001022222222221020222212222220102221222220222200202212120212222222102222222222202101222122002222222022222220202222222022220212212020222222212200122220001121022112220122202212222120112211220121222201022222022220222222001222222202202101222122012221222022022221202222222212222212202000222221012201102221200120022022222220202202222121002101201020222211111212020212222222110222222222102222222222202222222222222220202222202102222201202020222222212210022222001121122220221120222212202022202202220220222211022202020210222222220212222222212202222122122220222122222222202222212222222210202012222220011211122221010021021000222222222212202220112000221222222220221202222221222222212202222212112001222222112220222122222221202222222122220001222210222220012202122220021020220121222122222202202222122012210120222211002212020200222222100212222202012201222122222222222022122222222222212002222121222100222221101211012201221222020221220220202202212021202220220020222211002222222201222222211202202222012111222022112222222022022221222222212212222210222210222221101212012202211022021102220020222222202021122000200021222200010212122220222222001202202202212001222222002222222022022220212222222102221200202021222221212201122212122021021011220220212212202021002022212020222222212222122201222222121212212212022110222122002221222222022220222222212122222002222002222222202200112202220122021112221121202212222220022021211220222210122222121212222222121202212202012222222222212222222222122221202222222202220112202010222220101211222202021222022012222222222222222020022221212120222221101202021222222222211222212222112110222022122221222022222222212222222022221211222222222221101221122202220220022121222120202222202221122010210122222222001222222221122222021212212202012221222222012220222022122220202222222222221222212111222222222200202222211222021112222022202212202221022000202220222212100222022201122222210202212222102201222022122221202122222221212222212012221121212102222220212220112221000222120022220120222202222022112102201120222221222212021222122222101222202222222011222222212220202222222220212222222122222210212002212220222222202222110022222102222120212202202120012122211220222200200202022222222222210222202202112110222222212221222022122221212222222112222012212220222222222211022200122221220212222221212202222122202112212022222212201202022211122222201222222212112121222222022222202222022220201222212112222012202012222220022200002211010121022112222122222222202222022001221122222210210202021200122222222202212201202102222022202221202222022220222222212202221101202200212221020211102212022122120111221021212212222020112120200022222222221212221202022222000222212211012020222022102222222222222220212222222002220222222222222222022200222202122021120000220220222222202021022000201020122211011222021221022222012212222222112220222222122222202022222220222222212022221111212002212222110210022221100222120210221220222202202211222011222222122221010222121201022222211202212202012102222122122222222222122221221222212122221012212011222221201202022210012021220220222222221202202100122012220020222202210212222211022222110202222201022000222122012221002122222221200222202202222100202221222222021200012200111222021112221222221212212012212110211020022221010202120222022222220212222201012012222122022220002222022221202222202000221212222001202220001201112202202022121211220021211002212222012222222021122121012202021200122222110202222221212202222222012220102122122220220222202002221211212112212221120200022200102022021210221022210012202101202212222120022222012212022211222222012212222221112002222022012222002022122221220222022202221212202102222220000220112220210221022010220020202002202102222011201220022002102222021212122222001222202222202202222122122222222022022221220222112010221110212220212220101221202201000120220211222022220122222000022000200022122102012222221222222222020212212112012020222122122220222222022222200222202121220001212011222220021211222200002020121010221122212022222010111202210220122121220202120210122222120222222122012220222222022221022020022222220222022010220111222112202221120100002221220120021010222022220222212222002102200221022110221012221222022222210222202202102200222122102220212121122222201222202121221021212111212220100010012221211122020100221121201122212110020121221121120001122222021220122222110202202121112002222222012221002022022221201222112112221102212222202222112011002201000120121102222222220212222221202000210220221121010022020201222222002202212001112002222122002221122220222221202222112221221020202000202222020121112210210122120212220221202012222220020011202020220112100212020220122222012202212000022122022122102222122120022220210222002220222011202210222221211201202212111122122221220122211022202211121202200121222212010122121210022222121202202100202101222122202221112120022222200222122100220111202211212220120110102221201121022220222022220202222122200212221121020011011012021222222222220222202001112000022022022222102020022220222222122122221111202212212221102100202202110022120022222121202002202200210111222222121111121202020201122222120222222212122202022122222221112121022221221222002220220222222201212222211010002220220122220020221021222012202202220211222120021001112122020220222222100222212011012121012122222220122222122220200222212021220212012212222222200012122211112222122000220221221021222220202012201211021211211002220212222222212202212212222110022122202220112222022220211222112011221001122002202222220122012211201122121210220120211012202212011221211020121101000022122222122222012222222212212221212022202222202021122222221222002012221211222202202220120222112210101120221102220021212221222220011110201220121100010122022221022222112212212001102221202122102222102021022222202222022210220220212202212222021011212222020220022021222020201110212001120122212001121202110122221212022222221212212012011011112022202220012220222220221222212021221102102212222221101211002222211122221022220021202102202222021211212012221011020102020222122222101222212111111210212022122220112110222220221222002202220001202212212221220210122210021020122220220022200010202222112021210002120001102202022220122222122202202211002001222222112221122201022220220222102212221220202112212220012120222212021120020022221022211201212221222202202200222202000112021210022222101222012022202102012222002222102022012220220222222020221110222212212221122222012222010221122021222220220110212001111210222022120021012222022200022222000200010220100212112022022220112221202220220222112212222200112110202222022221012210111100121020220121222020022001102202201010220122200202120202022222011220001220121000022222002220202121222120220222112112222100112221212221210210022212020011220202220022221010112222210212202111122202121122222222122222220210222120210200202222212221201122022021221222100021220200102220202221012112212211201121122221211121212002212100211022221101120221002202111201222222111222222021121221002022022222211221102021220222101022220101022121212222210220022202010221220001222022211102112221012010200002022022011212021201122222122210011121220001202122122221010101102120210222210121221012012211212220102001022210102201120012212022011201112022012222220122020100221222011021122222222210001221002122012122112220122220212221202222202112221121111112202222212120012222200220121222221020022112112212210011212200002211112122200222122222122222100022202200222222012221120220222020220222121102220021022200212221112011012210212100020010220220100021112020121001222000110221012112100201122222100222122122201110012222212221221122022120220222212201221200022010222220100120012212200210121202210120001111022202010010210221012212200112102000222222112222122220111212102122122221222120222020210222100020211012000121202222202021202120001122022011202022221002122120100020212022000021001102122222022222020211012212102210112022122220011201220221200222010000211201211221212220211200012201100101120122210022100122222101200002210122200201120022122021122222210222020011210010222122122221001011202221210222111102202122100220222220100020112101200221121222200220012022212022210221211120100220022202120122022222200202001122212010222222102220210020110220201222002112222012200010212222121202202211020200221220220222002102202220000111212101002112111102101222222222020221120201101220002222112221210001221021210222102120221112201121212222220022222101011121122200222122110022022121202002210002211012110102110020222222110221001100220021102022202221110102121220200222020212211101012112202221200211212112201201021001222022012021222010000221220010222012220012020201222222011220100111020202222022202222100012102220211222100111210012020022222221000112022001201122020021201222112122122012100200220210100211222222222212022222202222112111120101002022012220112022022021201222021021201211102021222220112112112211020222200100210222120020112202100002022001212122120022012010022022122202000201111001022222102221101212122020220222212002201112201211212220011020202010210220021102202220101212202110020200001011210220010122022001022222022222111210200100222122212222212202022222220222212220220220221211022221000212202121010120112211211020201001212202211000221112100122011202012202122022112200220201212011112022212222121212101220212222121002200102200222022110212210021212111120200110002102100002120001211101220211022221012021211101111001110020002010110001220000000000010122211201020000101211002111121122220';

describe('day 8', () => {
  describe('part 1', () => {
    describe('dataToRows(data, width)', () => {
      test('example 1', () => {
        expect(dataToRows('123456789012', 3)).toStrictEqual([
          '123',
          '456',
          '789',
          '012',
        ]);
      });
    });
    describe('imageDataToLayers(data, width, height)', () => {
      test('example 1', () => {
        expect(imageDataToLayers('123456789012', 3, 2)).toStrictEqual([
          ['123', '456'],
          ['789', '012'],
        ]);
      });
      test('part 2 example 1', () => {
        expect(imageDataToLayers('0222112222120000', 2, 2)).toStrictEqual([
          ['02', '22'],
          ['11', '22'],
          ['22', '12'],
          ['00', '00'],
        ]);
      });
      test('data where width != height', () => {
        expect(imageDataToLayers('0200', 2, 1)).toStrictEqual([['02'], ['00']]);
      });
      test('puzzleInput', () => {
        expect(imageDataToLayers(puzzleInput, 25, 6)).toStrictEqual([
          [
            '2212022220222220220212222',
            '2222212220220222222212200',
            '2202221222222222202022202',
            '2222222222222222222220222',
            '2202220222122202222222220',
            '2222212202222202202222222',
          ],
          [
            '2202122222222222221222220',
            '2222202221222222222212200',
            '2212220222222222202122222',
            '2222222222222222222220222',
            '2202222222122202222222222',
            '2222202202222212222222222',
          ],
          [
            '2222222220222221220222221',
            '2222202221220222222222200',
            '2222222222222222222222222',
            '2222222222222222222222222',
            '2222220222222202222222220',
            '2222222002222212212222222',
          ],
          [
            '2202022222222220221212221',
            '2222212222221222222212211',
            '2202220222220222212222202',
            '2222222222222222222220222',
            '2222220222222222222222220',
            '2222202102222202222222222',
          ],
          [
            '2212022122222220222222222',
            '2222202221221221222202220',
            '2201222222222222212222202',
            '2222222222222222222222222',
            '2222221222022222222222220',
            '2222222122222212202222222',
          ],
          [
            '2202022221222222222202221',
            '2222212222220221222222222',
            '2202221222220222212122212',
            '2222222222222222222022222',
            '2222222222022202222222222',
            '2222222222222222222222222',
          ],
          [
            '2212022221222220222222222',
            '2222222222220221222212212',
            '2210222222220222222122222',
            '2222222222222222222222222',
            '2212222222222212222222220',
            '2222222002222202202220222',
          ],
          [
            '2202022122222221221202221',
            '2222222220222220222202201',
            '2221220222222222202022212',
            '2222222222222222222220222',
            '2222222222022202222222221',
            '2222222202221202212222222',
          ],
          [
            '2222022221222221220212221',
            '2222212222222222222222220',
            '2200222222222222202022212',
            '2222222222222222222021222',
            '2212221222122202222222221',
            '2222202122222212222220222',
          ],
          [
            '2212122022222222221212222',
            '2222202221222220222202222',
            '2220221222221222202122212',
            '2222222222222222222022222',
            '2212222222222202222222222',
            '2222202122222212202221222',
          ],
          [
            '2212022121222220222212222',
            '2222202220220222222202201',
            '1220220222222222202022202',
            '2222222222222222222222222',
            '2222222222022212222222221',
            '2222212112222222202220222',
          ],
          [
            '2212122221222220220202220',
            '2222212022220221222212220',
            '2221220222222222222022222',
            '2222222222222222222022222',
            '2202220222122202222222120',
            '2222222222221212222222222',
          ],
          [
            '2212122120222221220202222',
            '2222202121221222222222212',
            '0201220222221222202122202',
            '2222222022222222222220222',
            '2202220222122202222222122',
            '2222212122222212202220222',
          ],
          [
            '2202222021222221220202221',
            '2222222020220221222202200',
            '0210221222220202202122202',
            '2222222022222222222220222',
            '2202221222122202222222020',
            '2222202102222202222220222',
          ],
          [
            '2212022221222222222202220',
            '2222212120221220222222212',
            '0212221222222212222122222',
            '2222222122222222222022222',
            '2222222222222222222222121',
            '2222212002221202222222222',
          ],
          [
            '2212122120222220221222221',
            '2222212222222222222222211',
            '0222222222220212212122212',
            '2222222002222222122222222',
            '2212222222222202222222221',
            '2222212002222222222220222',
          ],
          [
            '2212122021222221220222222',
            '2222212121220222202212212',
            '0201222222220212222221212',
            '2222222012222222022022222',
            '2202222222122212222222020',
            '2222212102220202212222222',
          ],
          [
            '2222022022222221221212221',
            '2222212121220222212222201',
            '0200021222221222212121212',
            '2222222212222222222221222',
            '2212221222022222222222121',
            '2222202002222222222222222',
          ],
          [
            '2212222222222221221212222',
            '2222202022221220212202220',
            '1220120222220222212220212',
            '2222222102222222222122222',
            '2202220222022222222222220',
            '2222212012222221222222222',
          ],
          [
            '2222122120222222122212220',
            '1222222021222221222222220',
            '0212220222220222222022202',
            '2222222022222222222021122',
            '2202221222222202222222220',
            '2222222122221222212220222',
          ],
          [
            '2202122122222221120222220',
            '0222212120220222202202221',
            '2200220222220202212222212',
            '2222222122222222122121222',
            '2222220222122202222222222',
            '2222212022221201212221222',
          ],
          [
            '2202122121222222020222220',
            '2222212222221222202202212',
            '2202220222220222202220222',
            '2222222112222222222122222',
            '2202211222122202222222122',
            '2222212102220221222220222',
          ],
          [
            '2212222121222220021212220',
            '1222212221221221212212212',
            '0200122222221221222222202',
            '2222220122222222222220222',
            '2212200222022222222222021',
            '2222202212221212222020222',
          ],
          [
            '2202022220022220222212221',
            '0222202222222222212220211',
            '1201022222222210212222212',
            '2222220122222222222221002',
            '2222212222022212222222121',
            '2222222002221200202221222',
          ],
          [
            '2222022020022220120202220',
            '1222212020222220222211202',
            '1200220222220201222021222',
            '2222222222222222122220212',
            '2212201222222212202222020',
            '2222202012220212212121222',
          ],
          [
            '2222122021022020020212222',
            '1222222220222220202220221',
            '0222020222201222202220222',
            '2222222002222222122021202',
            '2212210222122202222222021',
            '2222222002221222212220222',
          ],
          [
            '2202022222222122221212222',
            '1222202122221221202210212',
            '1201021222202220212122202',
            '2222220002222222122120102',
            '2212210222122202202222021',
            '2222222102220220222021222',
          ],
          [
            '2202022022122222222222222',
            '2222212221220221222221220',
            '0200121222200220222221222',
            '2222220012222222221221002',
            '2222212222022212222222021',
            '2222212102220210202222222',
          ],
          [
            '2222122221022022122212222',
            '1222222221221221202202220',
            '2210021222222201212021212',
            '2222221022222222121222212',
            '2202200222222202212222022',
            '2222202002220212212221222',
          ],
          [
            '2212022211022122122222222',
            '2222202220222221222210210',
            '2221022222200211222021222',
            '2222221102222222121222202',
            '2212220222122202202222121',
            '2222202212221201212020222',
          ],
          [
            '2212222100022120111220221',
            '1222212021222221202220221',
            '0210022222200212222221202',
            '2222222002222222220021122',
            '2222220222022202222222120',
            '2222202002220212202020222',
          ],
          [
            '2222212100222121221200221',
            '1222212122222220212211220',
            '0201121222201211212122222',
            '2222222122222222220122122',
            '2212202222222222202222022',
            '2222222022222210222122222',
          ],
          [
            '2212222222022121220210220',
            '2222202122220220222200221',
            '0211221222210222212221212',
            '2222221212222222021220102',
            '2202222222222202202222020',
            '2222222002222222222211222',
          ],
          [
            '2202122101122220102220221',
            '1222002121220221212212201',
            '1202122222220211222220202',
            '2222220222222222220021122',
            '2222221222022202212222020',
            '2222222112222222222102222',
          ],
          [
            '2202102200022220121200222',
            '1222212220220222212221211',
            '0211020222221202212020222',
            '2222220022222222221021122',
            '2212220222022212202222122',
            '2222212002222220222100222',
          ],
          [
            '2212002220222022110212222',
            '2222212220220222212210202',
            '0222020222202222222220212',
            '2222220122222222222022022',
            '2212222222022222202222222',
            '2222222222220201202010222',
          ],
          [
            '2222012210122222201210222',
            '0222112122222220202222202',
            '0210121222200211212220202',
            '2222222222222222220120022',
            '2212221222122222202222121',
            '2222222222221200202102222',
          ],
          [
            '2212212212222101102221220',
            '1222222220222220202210220',
            '0222222222210220212121212',
            '2222221212222222020121122',
            '2212212222222212202222120',
            '2222212202222201202002222',
          ],
          [
            '2222112101122220010222222',
            '2222102022221222222010222',
            '1222220222200202212120212',
            '2222221022222222222021012',
            '2212200222222202222222020',
            '2222222022220212212020222',
          ],
          [
            '2222122001222200011210221',
            '1222012220221222212011221',
            '1220121222201022222022220',
            '2222220012222222022021012',
            '2212201222122202202222120',
            '2222222212222212202000222',
          ],
          [
            '2210122011022212001200220',
            '2222222020220222212100210',
            '1201020222211111212020212',
            '2222221102222222221022222',
            '2222220222222222222222020',
            '2222202102222201202020222',
          ],
          [
            '2222122100222220011211222',
            '2022112022221220202220220',
            '2220220222211022202020210',
            '2222222202122222222122022',
            '2212212222022212222222220',
            '2222212222222210202012222',
          ],
          [
            '2200112111222210100210210',
            '0022222222221220222011200',
            '0221222222220221202222221',
            '2222222122022222121120012',
            '2222211222022212222222120',
            '2222222122220001222210222',
          ],
          [
            '2200122021222200210202201',
            '2122212222220220222212201',
            '2210120222211002212020200',
            '2222221002122222020122012',
            '2212222222222202212222222',
            '2222212002222121222100222',
          ],
          [
            '2211012110122012212220202',
            '2122022020220221202120222',
            '0220020222211002222222201',
            '2222222112022022220121112',
            '2202211222222202202222122',
            '2222212212222210222210222',
          ],
          [
            '2211012120122022110220211',
            '0222002022222220202112200',
            '0200021222200010212122220',
            '2222220012022022022120012',
            '2222200222222202202222021',
            '2222222102221200202021222',
          ],
          [
            '2212122011222121220210210',
            '1122022021221220202100202',
            '2212020222222212222122201',
            '2222221212122122120221102',
            '2212200222122222202222022',
            '2222212122222002222002222',
          ],
          [
            '2222022001122022201220211',
            '1222112120221222222002202',
            '1211220222210122222121212',
            '2222221212022122020122222',
            '2222221222222222212222120',
            '2222222202220112202010222',
          ],
          [
            '2201012112222020212220220',
            '1222222222222222202002222',
            '1212120222221101202021222',
            '2222222112222122221121102',
            '2202212222122202222222221',
            '2222222022221211222222222',
          ],
          [
            '2211012211222022202200221',
            '2122212020222220222112201',
            '0210122222222001222222221',
            '1222220212122122020122212',
            '2222201222022202212222020',
            '2222222222221222212111222',
          ],
          [
            '2222222002022222112220211',
            '1222202220221220222102200',
            '0202220222212100222022201',
            '1222222102022122221022012',
            '2202212222120212222222121',
            '2222212012221121212102222',
          ],
          [
            '2202122201122210002221200',
            '2222012022220222202211210',
            '2201120222221222212021222',
            '1222221012222022222220112',
            '2222221222020222222222021',
            '2222222122222210212002212',
          ],
          [
            '2202222222022221100222221',
            '0222212021220220212001212',
            '2211220222200200202022222',
            '2222222102222022021121102',
            '2222221222122202212222121',
            '2222222112222012212220222',
          ],
          [
            '2222222110222001222212202',
            '1222222121220222212220211',
            '2212022222212201202022211',
            '1222222012222222121121212',
            '2222202222220222202222020',
            '1222212112222012202012222',
          ],
          [
            '2200222000022110101210221',
            '1222212222222220222202200',
            '1221122222210210202021200',
            '1222222222022122012021022',
            '2202220222120222202222022',
            '2222212202221101202200212',
          ],
          [
            '2210202111022120221221201',
            '1122102121221222202011212',
            '0200022222222221212221202',
            '0222220002222122110120202',
            '2202210222222222222222021',
            '2222222002220222222222222',
          ],
          [
            '2220222002222021220211200',
            '0022022022222220202102200',
            '0201020122211011222021221',
            '0222220122122222221122202',
            '2222212222220202222222022',
            '2222212022221111212002212',
          ],
          [
            '2221102100222211002221202',
            '1022122022220220221122201',
            '1222222122221010222121201',
            '0222222112022122020121022',
            '2212212222222222212222122',
            '1222212122221012212011222',
          ],
          [
            '2212012020222100120212202',
            '2022222222120220210012201',
            '2220020222202210212222211',
            '0222221102022222010220002',
            '2212201222100212222222120',
            '0222202202222100202221222',
          ],
          [
            '2220212000122001112220211',
            '1222122222121221201221211',
            '0211020022221010202120222',
            '0222222202122222010120122',
            '2212202222000222202222120',
            '2222202000221212222001202',
          ],
          [
            '2200012011122022020221212',
            '1122002121100221222201222',
            '2222021122121012202021200',
            '1222221102022222212122022',
            '2222201222010212212222022',
            '0222202002221211212112212',
          ],
          [
            '2211202000222001020220212',
            '1022102221001220210120221',
            '2222120022222012212022211',
            '2222220122122222211120022',
            '2202201222200202212222122',
            '0222022202221212202102222',
          ],
          [
            '2200002201122202102210220',
            '1022002020200220210222201',
            '1201220022002102222021212',
            '1222220012222022222022022',
            '2212212222222202202222122',
            '0222112010221110212220212',
          ],
          [
            '2201012212022010001202202',
            '1122202222012222200002200',
            '0200022122102012222221222',
            '2222220202122121120120202',
            '2212212222022222202222220',
            '0222202121220001212011222',
          ],
          [
            '2200212112222000020201210',
            '1022112221202222201011120',
            '2210220122121220202120210',
            '1222221202222221220122202',
            '2222202222102202002222222',
            '0222022010220111222112202',
          ],
          [
            '2211201000022212201200210',
            '1022202222022221222200210',
            '2200221022110221012221222',
            '0222222102222022021022002',
            '2212210222021212112222220',
            '1222202121221021212111212',
          ],
          [
            '2201000100122212111220201',
            '0022112120112221211002012',
            '1221121120001122222021220',
            '1222221102022021211120022',
            '2222201222100202202222120',
            '1222112112221102212222202',
          ],
          [
            '2221120110022010001201211',
            '0222222222021222222120200',
            '0210220221121010022020201',
            '2222220022022120011120022',
            '2212200222112222022222120',
            '2222112221221020202000202',
          ],
          [
            '2220201211122102101221202',
            '1222022120201222222002001',
            '1202020220112100212020220',
            '1222220122022120000221220',
            '2212210222212212002222021',
            '0222002220222011202210222',
          ],
          [
            '2212112012022121111221222',
            '2122012221102220221112120',
            '2200121222212010122121210',
            '0222221212022021002021012',
            '2212220222111212002222220',
            '0222122100220111202211212',
          ],
          [
            '2201201101022212011210222',
            '2022202222020222212220021',
            '2221121020011011012021222',
            '2222222202222020011120000',
            '2202202222210202002222022',
            '2222122122221111202212212',
          ],
          [
            '2211021002022021100221200',
            '2222212120200220220021011',
            '1222222121111121202020201',
            '1222221202222222121222020',
            '2212222222111212102222122',
            '1222002220220222222201212',
          ],
          [
            '2222110100022202201222200',
            '2022102122201220220222021',
            '1222120021001112122020220',
            '2222221002222120110121210',
            '1212222222012222212222020',
            '0222212021220212012212222',
          ],
          [
            '2222000121222111122221220',
            '0022022122102122222020201',
            '2201211021211211002220212',
            '2222222122022122122221100',
            '2212220222011222202222021',
            '1222112011221001122002202',
          ],
          [
            '2222201220122112011221212',
            '1022012021101220221201122',
            '1211020121101000022122222',
            '1222220122222222122122212',
            '1202220222220202112222222',
            '1222002012221211222202202',
          ],
          [
            '2201202221122101011202211',
            '0222002121222122222001111',
            '0201220121100010122022221',
            '0222221122122120011022212',
            '0212210222210202102222220',
            '2222022210220220212202212',
          ],
          [
            '2220210112122220202200220',
            '2122202020111021200112012',
            '2212001121202110122221212',
            '0222222212122120120110111',
            '1202220222001222022222022',
            '1222212021221102102212222',
          ],
          [
            '2211012110022222111222210',
            '2222002120210220222202121',
            '1212012221011020102020222',
            '1222221012222121111112102',
            '1202212222011211022222022',
            '1222002202220001202212212',
          ],
          [
            '2212202101222100210201222',
            '2022002220001020222211202',
            '1210002120001102202022220',
            '1222221222022022110020012',
            '2222211222112220102222022',
            '0222102212221220202112212',
          ],
          [
            '2200121202222120211200200',
            '2222102221120121222122220',
            '2202200222202000112021210',
            '0222221012220120222021020',
            '1222200222210202201222022',
            '0222222020221110222212212',
          ],
          [
            '2211222220122220102211220',
            '2122222022011021200111121',
            '0222022120021012222022200',
            '0222220002000102201002121',
            '1202202222011222120222022',
            '0222112212222200112110202',
          ],
          [
            '2220222210122101111001210',
            '2022012122202002200110220',
            '2201010220122200202120202',
            '0222220112200012201210000',
            '2222200222020212122212022',
            '0222112112222100112221212',
          ],
          [
            '2212102100222120200112202',
            '0222002222101011222221021',
            '2202111122202121122222222',
            '1222222202102221202102002',
            '0222221222120112202202122',
            '1222100021220200102220202',
          ],
          [
            '2210121122122112011211222',
            '2121112121200221210021102',
            '2221101120221002202111201',
            '2222221112222220211212210',
            '0202202222221122110202122',
            '0222101022220101022121212',
          ],
          [
            '2222102200222020102212200',
            '0122202221110211222101201',
            '0200002022022011212021201',
            '1222221222100111212200012',
            '0212212222101010110212021',
            '0222210121221012012211212',
          ],
          [
            '2201020010222101022011200',
            '1221202201120111202201222',
            '2220122020100221222011021',
            '1222222222100012210021220',
            '1212211222012222021222120',
            '2222202112221121111112202',
          ],
          [
            '2222121200122222002201212',
            '2222102002211211221221001',
            '1212200002211112122200222',
            '1222221222221000222022002',
            '2222201222112022022202022',
            '0222121102220021022200212',
          ],
          [
            '2211120110122102121000200',
            '1022022010002111202012100',
            '1222000110221012112100201',
            '1222221002221221222011100',
            '1222221222122112202212022',
            '0222212201221200022010222',
          ],
          [
            '2201001200122122002101212',
            '0221012000111102220201001',
            '0210221012212200112102000',
            '2222221122221222201112121',
            '0212212222122212022202021',
            '0222100020211012000121202',
          ],
          [
            '2222020212021200011220220',
            '1120202222100212212010002',
            '0212022000021001102122222',
            '0222220202110122121022101',
            '1202212222001120122022120',
            '0222010000211201211221212',
          ],
          [
            '2202112000122011001011201',
            '2221002210012222210120000',
            '2210122200201120022122021',
            '1222222102220200112100102',
            '2212212222100101120222121',
            '0222111102202122100220222',
          ],
          [
            '2201000201121012002211212',
            '2220022001202221202221022',
            '1211120100220022202120122',
            '0222222002020011222120102',
            '2222210222021002011022020',
            '1222002112222012200010212',
          ],
          [
            '2221212022022110202002212',
            '2022022200210220222000011',
            '1212101002112111102101222',
            '2222220202211202011012200',
            '0222211222121000122102121',
            '0222102120221112201121212',
          ],
          [
            '2222200222221010111211222',
            '0022212211002202212120200',
            '2210002211012110102110020',
            '2222221102210011002200211',
            '0202220222111010212122020',
            '0222020212211101012112202',
          ],
          [
            '2212002112121122012010210',
            '0122202201202122201000022',
            '1220010222012220012020201',
            '2222220112201001110202022',
            '2202220222210001210222021',
            '1222100111210012020022222',
          ],
          [
            '2210001120220012011220200',
            '2120122211212212201210020',
            '0220210100211222222222212',
            '0222222022221121111201010',
            '0202201222011202202202120',
            '1222021021201211102021222',
          ],
          [
            '2201121121122110202222001',
            '0021022212002011220210000',
            '2022001212122120022012010',
            '0220221222020002011110010',
            '2222210222110121212202022',
            '0222212002201112201211212',
          ],
          [
            '2200110202020102102200211',
            '0220222010121220211002020',
            '0001011210220010122022001',
            '0222220222221112102001002',
            '2212221222221220202222222',
            '0222212220220220221211022',
          ],
          [
            '2210002122021210101201122',
            '1121102020100121220221100',
            '0221112100122011202012202',
            '1220221122002202012120111',
            '1202221222212121210122021',
            '2222121002200102200222022',
          ],
          [
            '1102122100212121111202001',
            '1000210210000212000121110',
            '1220211022221012021211101',
            '1110011100200020101100012',
            '2000000000001012221120102',
            '0000101211002111121122220',
          ],
        ]);
      });
    });
    describe('countDigitsInLayer(layer, targetDigit)', () => {
      test('<example 1 layer 1>, 0', () => {
        expect(countDigitsInLayer(['123', '456'], '0')).toBe(0);
      });
      test('<example 1 layer 2>, 0', () => {
        expect(countDigitsInLayer(['789', '012'], '0')).toBe(1);
      });
      test('<example 1 layer 1>, 1', () => {
        expect(countDigitsInLayer(['123', '456'], '1')).toBe(1);
      });
    });
    describe('getLayerWithFewest0Digits(data, width, height)', () => {
      test('example 1', () => {
        expect(getLayerWithFewest0Digits('123456789012', 3, 2)).toStrictEqual([
          '123',
          '456',
        ]);
      });
      test('puzzleInput', () => {
        expect(getLayerWithFewest0Digits(puzzleInput, 25, 6)).toStrictEqual([
          '2202022221222222222202221',
          '2222212222220221222222222',
          '2202221222220222212122212',
          '2222222222222222222022222',
          '2222222222022202222222222',
          '2222222222222222222222222',
        ]);
      });
    });
    describe('answerPart1(data, width, height)', () => {
      test('example 1', () => {
        expect(answerPart1('123456789012', 3, 2)).toBe(1);
      });
      test('puzzleInput', () => {
        expect(answerPart1(puzzleInput, 25, 6)).toBe(1064);
      });
    });
  });
  describe('part 2', () => {
    describe('imageDataToImage(data, width, height)', () => {
      test('part 2 example 1', () => {
        expect(imageDataToImage('0222112222120000', 2, 2)).toStrictEqual([
          '01',
          '10',
        ]);
      });
      test('data where width != height', () => {
        expect(imageDataToImage('0200', 2, 1)).toStrictEqual(['00']);
      });
      test('puzzleInput', () => {
        expect(imageDataToImage(puzzleInput, 25, 6)).toStrictEqual([
          '1110011110011000110010010',
          '1001010000100101001010100',
          '1001011100100001001011000',
          '1110010000100001111010100',
          '1000010000100101001010100',
          '1000010000011001001010010',
        ]);
      });
    });
    describe('printImage(data, width, height)', () => {
      test('puzzleInput', () => {
        expect(printImage(puzzleInput, 25, 6)).toStrictEqual(
          [
            '###..####..##...##..#..#.',
            '#..#.#....#..#.#..#.#.#..',
            '#..#.###..#....#..#.##...',
            '###..#....#....####.#.#..',
            '#....#....#..#.#..#.#.#..',
            '#....#.....##..#..#.#..#.',
          ].join('\n')
        );
      });
    });
  });
});
